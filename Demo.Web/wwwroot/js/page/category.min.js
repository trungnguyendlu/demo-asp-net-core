(function(n,t){var i={};n.category=n.category||{};n.category.init=function(t){n.category.setOptions(t);n.common.applyReturn(i.searchFormInput,n.category.search)};n.category.setOptions=function(n){i=t.extend(i,n)};n.category.search=function(r){t(i.pageNumber).val(r||1);n.common.postForm(i.searchUrl,i.searchForm,function(n){t(i.resultContent).html(n)})};n.category.create=function(){n.category.detail(i.createUrl,{},"Thêm danh mục mới")};n.category.edit=function(t){n.category.detail(i.editUrl,{id:t},"Cập nhật danh mục")};n.category.copy=function(t){n.category.detail(i.copyUrl,{id:t},"Copy danh mục")};n.category.detail=function(r,u,f){n.common.get(r,u,function(r){r!==null?(n.common.showModal(r,f,"",'<button type="button" class="btn btn-primary" onclick="comdy.category.save()"><i class="fa fa-save"><\/i>&nbsp;Lưu<\/button>'),n.common.applyReturn(i.saveFormInput,n.category.save),n.common.hideValidateMessages(t(i.saveForm)),t(".styled").uniform(),t(i.name).focusout(function(){var r=t(i.name).val();r!==""&&t(i.slug).val()===""&&t(i.slug).val(n.common.slugGenerate(r))})):n.common.errorNotify("Đã có lỗi xảy ra")})};n.category.save=function(){var r=t(i.saveForm);n.common.hideValidateMessages(r);n.common.postForm(i.saveUrl,i.saveForm,function(u){u.success?(n.common.successNotify(u.message),n.common.hideModal("#modal"),n.category.search(t(i.pageNumber).val())):n.common.showValidateMessages(r,u.message)})};n.category.delete=function(r){n.common.postToDelete({message:"Bạn có muốn xóa danh mục này không?",deleteUrl:i.deleteUrl,deleteData:{id:r},callback:function(){var r=t(i.pageNumber).val();n.category.search(r)}})}})(window.comdy=window.comdy||{},jQuery);