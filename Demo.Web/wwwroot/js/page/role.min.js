(function(n,t){var i={};n.role=n.role||{};n.role.init=function(t){n.role.setOptions(t);n.common.applyReturn(i.searchFormInput,n.role.search)};n.role.setOptions=function(n){i=t.extend(i,n)};n.role.search=function(r){t(i.pageNumber).val(r||1);n.common.postForm(i.searchUrl,i.searchForm,function(n){t(i.resultContent).html(n)})};n.role.create=function(){n.role.detail(i.createUrl,{},"Thêm phân quyền mới")};n.role.edit=function(t){n.role.detail(i.editUrl,{id:t},"Cập nhật phân quyền")};n.role.detail=function(r,u,f){n.common.get(r,u,function(r){r!==null?(n.common.showModal(r,f,"modal-lg",'<button type="button" class="btn btn-primary" onclick="comdy.role.save()"><i class="fa fa-save"><\/i>&nbsp;Lưu<\/button>'),n.common.applyReturn(i.saveFormInput,n.role.save),n.common.hideValidateMessages(t(i.saveForm)),t(".styled").uniform()):n.common.errorNotify("Đã có lỗi xảy ra")})};n.role.save=function(){var r=t(i.saveForm);n.common.hideValidateMessages(r);n.common.postForm(i.saveUrl,i.saveForm,function(u){u.success?(n.common.successNotify(u.message),n.common.hideModal("#modal"),n.role.search(t(i.pageNumber).val())):n.common.showValidateMessages(r,u.message)})};n.role.delete=function(r){n.common.postToDelete({message:"Bạn có muốn xóa phân quyền này không?",deleteUrl:i.deleteUrl,deleteData:{id:r},callback:function(){var r=t(i.pageNumber).val();n.role.search(r)}})}})(window.comdy=window.comdy||{},jQuery);