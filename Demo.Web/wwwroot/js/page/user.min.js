(function(n,t){var i={};n.user=n.user||{};n.user.init=function(t){n.user.setOptions(t);n.common.applyReturn(i.searchFormInput,n.user.search)};n.user.setOptions=function(n){i=t.extend(i,n)};n.user.search=function(r){t(i.pageNumber).val(r||1);n.common.postForm(i.searchUrl,i.searchForm,function(n){t(i.resultContent).html(n)})};n.user.create=function(){n.user.detail(i.createUrl,{},"Thêm người dùng mới")};n.user.edit=function(t){n.user.detail(i.editUrl,{id:t},"Cập nhật người dùng")};n.user.detail=function(r,u,f){n.common.get(r,u,function(r){r!==null?(n.common.showModal(r,f,"modal-sm",'<button type="button" class="btn btn-primary" onclick="comdy.user.save()"><i class="fa fa-save"><\/i>&nbsp;Lưu<\/button>'),n.common.applyReturn(i.saveFormInput,n.user.save),n.common.hideValidateMessages(t(i.saveForm))):n.common.errorNotify("Đã có lỗi xảy ra")})};n.user.save=function(){var r=t(i.saveForm);n.common.hideValidateMessages(r);n.common.postForm(i.saveUrl,i.saveForm,function(u){u.success?(n.common.successNotify(u.message),n.common.hideModal("#modal"),n.user.search(t(i.pageNumber).val())):n.common.showValidateMessages(r,u.message)})};n.user.delete=function(r){n.common.postToDelete({message:"Bạn có muốn xóa người dùng này không?",deleteUrl:i.deleteUrl,deleteData:{id:r},callback:function(){var r=t(i.pageNumber).val();n.user.search(r)}})}})(window.comdy=window.comdy||{},jQuery);